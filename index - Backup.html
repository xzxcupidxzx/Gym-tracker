<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gym Tracker - Qu·∫£n l√Ω t·∫≠p luy·ªán th√¥ng minh</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <!-- Header -->
    <header class="app-header">
        <div class="container">
            <div class="header-content">
                <h1 class="app-title">üí™ Gym Tracker</h1>
				<button class="settings-btn" onclick="app.openSettings()" title="C√†i ƒë·∫∑t">
					‚öôÔ∏è
				</button>
				<button class="menu-toggle" id="menu-toggle" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="app-nav" id="app-nav">
        <div class="container">
            <div class="nav-links">
                <a href="#home" class="nav-link active" data-page="home">
                    <span class="nav-icon">üè†</span>
                    <span class="nav-text">Trang ch·ªß</span>
                </a>
                <a href="#templates" class="nav-link" data-page="templates">
                    <span class="nav-icon">üìã</span>
                    <span class="nav-text">Templates</span>
                </a>
                <a href="#exercises" class="nav-link" data-page="exercises">
                    <span class="nav-icon">üèãÔ∏è</span>
                    <span class="nav-text">B√†i t·∫≠p</span>
                </a>
                <a href="#history" class="nav-link" data-page="history">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-text">L·ªãch s·ª≠</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="app-main">
        <div class="container">
            <!-- Home Page -->
            <section id="home-page" class="page active">
                <!-- Quick Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üèãÔ∏è</div>
                        <div class="stat-content">
                            <div class="stat-value" id="total-workouts">0</div>
                            <div class="stat-label">Bu·ªïi t·∫≠p</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìã</div>
                        <div class="stat-content">
                            <div class="stat-value" id="total-templates">0</div>
                            <div class="stat-label">Templates</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üî•</div>
                        <div class="stat-content">
                            <div class="stat-value" id="this-week">0</div>
                            <div class="stat-label">Tu·∫ßn n√†y</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí™</div>
                        <div class="stat-content">
                            <div class="stat-value" id="total-volume">0</div>
                            <div class="stat-label">T·ªïng KG</div>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <button class="quick-action-btn primary" onclick="app.startQuickWorkout()">
                        <span class="btn-icon">üöÄ</span>
                        <span class="btn-text">B·∫Øt ƒë·∫ßu t·∫≠p</span>
                    </button>
                    <button class="quick-action-btn" onclick="app.createTemplate()">
                        <span class="btn-icon">‚ûï</span>
                        <span class="btn-text">T·∫°o template</span>
                    </button>
                </div>

                <!-- Recent Templates -->
                <div class="section">
                    <div class="section-header">
                        <h2 class="section-title">Templates g·∫ßn ƒë√¢y</h2>
                        <a href="#templates" class="section-link">Xem t·∫•t c·∫£ ‚Üí</a>
                    </div>
                    <div class="templates-grid" id="recent-templates">
                        <!-- Templates will be rendered here -->
                    </div>
                </div>
            </section>

            <!-- Templates Page -->
            <section id="templates-page" class="page">
                <div class="page-header">
                    <h2 class="page-title">Templates</h2>
                    <button class="btn btn-primary" onclick="app.createTemplate()">
                        <span class="btn-icon">‚ûï</span>
                        T·∫°o template
                    </button>
                </div>

                <!-- Filters -->
                <div class="filters">
                    <input type="search" 
                           class="search-input" 
                           id="template-search" 
                           placeholder="T√¨m ki·∫øm templates...">
                    <select class="filter-select" id="template-filter">
                        <option value="">T·∫•t c·∫£</option>
                        <option value="beginner">Ng∆∞·ªùi m·ªõi</option>
                        <option value="intermediate">Trung c·∫•p</option>
                        <option value="advanced">N√¢ng cao</option>
                    </select>
                </div>

                <div class="templates-grid" id="all-templates">
                    <!-- Templates will be rendered here -->
                </div>
            </section>

            <!-- Exercises Page -->
            <section id="exercises-page" class="page">
                <div class="page-header">
                    <h2 class="page-title">B√†i t·∫≠p</h2>
                    <button class="btn btn-primary" onclick="app.createExercise()">
                        <span class="btn-icon">‚ûï</span>
                        Th√™m b√†i t·∫≠p
                    </button>
                </div>

                <!-- Filters -->
                <div class="filters">
                    <input type="search" 
                           class="search-input" 
                           id="exercise-search" 
                           placeholder="T√¨m ki·∫øm b√†i t·∫≠p...">
                    <select class="filter-select" id="muscle-filter">
                        <option value="">T·∫•t c·∫£ nh√≥m c∆°</option>
                        <option value="chest">Ng·ª±c</option>
                        <option value="back">L∆∞ng</option>
                        <option value="legs">Ch√¢n</option>
                        <option value="shoulders">Vai</option>
                        <option value="arms">Tay</option>
                        <option value="core">B·ª•ng</option>
                    </select>
                </div>

                <div class="exercises-grid" id="all-exercises">
                    <!-- Exercises will be rendered here -->
                </div>
            </section>

            <!-- History Page -->
            <section id="history-page" class="page">
                <div class="page-header">
                    <h2 class="page-title">L·ªãch s·ª≠ t·∫≠p luy·ªán</h2>
                    <button class="btn btn-secondary" onclick="app.exportData()">
                        <span class="btn-icon">üì§</span>
                        Xu·∫•t d·ªØ li·ªáu
                    </button>
                </div>
				<div class="import-export-section" style="margin-bottom: 20px;">
					<input type="file" 
						   id="import-file" 
						   accept=".json" 
						   style="display: none;"
						   onchange="app.handleImportFile(event)">
					<button class="btn btn-secondary" onclick="document.getElementById('import-file').click()">
						<span class="btn-icon">üì•</span>
						Import d·ªØ li·ªáu
					</button>
				</div>

                <div class="history-list" id="workout-history">
                    <!-- History will be rendered here -->
                </div>
            </section>
        </div>
    </main>

    <!-- Workout Modal -->
    <div class="modal" id="workout-modal">
        <div class="modal-content workout-modal">
            <div class="modal-header" style="position:relative;">
                <h3 id="workout-title">Workout</h3>
				<div id="workout-timer-box">
					<span class="timer-icon">‚è±Ô∏è</span>
					<span class="timer-text" id="workout-timer">00:00</span>
				</div>
				<button class="modal-close" onclick="app.closeWorkout()">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="workout-exercises" id="workout-exercises">
                    <!-- Exercises will be rendered here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="app.pauseWorkout()">T·∫°m d·ª´ng</button>
                <button class="btn btn-primary" onclick="app.finishWorkout()">Ho√†n th√†nh</button>
            </div>
        </div>
    </div>

    <!-- Template Form Modal -->
    <div class="modal" id="template-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="template-form-title">T·∫°o Template</h3>
                <button class="modal-close" onclick="app.closeTemplateForm()">‚úï</button>
            </div>
            <form id="template-form" class="modal-body">
                <div class="form-group">
                    <label for="template-name">T√™n template</label>
                    <input type="text" 
                           id="template-name" 
                           class="form-input" 
                           placeholder="VD: Push Day, Leg Day..." 
                           required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="template-level">ƒê·ªô kh√≥</label>
                        <select id="template-level" class="form-select">
                            <option value="">Ch·ªçn ƒë·ªô kh√≥</option>
                            <option value="beginner">üå± Ng∆∞·ªùi m·ªõi</option>
                            <option value="intermediate">‚ö° Trung c·∫•p</option>
                            <option value="advanced">üî• N√¢ng cao</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="template-duration">Th·ªùi gian (ph√∫t)</label>
                        <input type="number" 
                               id="template-duration" 
                               class="form-input" 
                               placeholder="60" 
                               min="15" 
                               max="180">
                    </div>
                </div>

                <div class="form-group">
                    <label>B√†i t·∫≠p</label>
                    <div class="selected-exercises" id="selected-exercises">
                        <!-- Selected exercises will be rendered here -->
                    </div>
                    <button type="button" 
                            class="btn btn-secondary btn-block" 
                            onclick="app.selectExercises()">
                        ‚ûï Th√™m b√†i t·∫≠p
                    </button>
                </div>
            </form>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="app.closeTemplateForm()">H·ªßy</button>
                <button class="btn btn-primary" onclick="app.saveTemplate()">L∆∞u template</button>
            </div>
        </div>
    </div>
	<!-- Template Preview Modal -->
	<div class="modal" id="template-preview-modal">
	  <div class="modal-content">
		<div class="modal-header">
		  <h3 id="template-preview-title">Template</h3>
		  <button class="modal-close" onclick="app.closeTemplatePreview()">‚úï</button>
		</div>
		<div class="modal-body">
		  <div id="template-preview-list"></div>
		</div>
		<div class="modal-footer">
		  <button class="btn btn-secondary" onclick="app.editTemplateFromPreview()">Edit</button>
		  <button class="btn btn-primary" onclick="app.startWorkoutFromPreview()">Start Workout</button>
		</div>
	  </div>
	</div>

    <!-- Exercise Selection Modal -->
    <div class="modal" id="exercise-select-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Ch·ªçn b√†i t·∫≠p</h3>
                <button class="modal-close" onclick="app.closeExerciseSelect()">‚úï</button>
            </div>
            <div class="modal-body">
                <input type="search" 
                       class="search-input" 
                       id="exercise-select-search" 
                       placeholder="T√¨m ki·∫øm b√†i t·∫≠p...">
                <div class="exercise-select-list" id="exercise-select-list">
                    <!-- Exercises will be rendered here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="app.closeExerciseSelect()">H·ªßy</button>
                <button class="btn btn-primary" onclick="app.confirmExerciseSelection()">X√°c nh·∫≠n</button>
            </div>
        </div>
    </div>

    <!-- Rest Timer -->
    <div class="rest-timer" id="rest-timer">
        <div class="rest-timer-content">
            <div class="rest-timer-label">Th·ªùi gian ngh·ªâ</div>
            <div class="rest-timer-time" id="rest-time">02:00</div>
            <div class="rest-timer-actions">
                <button class="rest-timer-btn" onclick="app.skipRest()">B·ªè qua</button>
                <button class="rest-timer-btn" onclick="app.addRestTime(30)">+30s</button>
            </div>
        </div>
    </div>
	

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>
	<div id="unit-context-menu" class="context-menu" style="display:none;position:absolute;z-index:1200;"></div>
    <!-- Scripts -->
    <script src="js/app.js"></script>
		
	<!-- Add Exercise History Modal -->
	<div class="modal" id="exercise-history-modal">
		<div class="modal-content">
			<div class="modal-header">
				<h3 id="exercise-history-title">L·ªãch s·ª≠ b√†i t·∫≠p</h3>
				<button class="modal-close" onclick="app.closeExerciseHistory()">‚úï</button>
			</div>
			<div class="modal-body">
				<div id="exercise-history-content">
					<!-- History will be rendered here -->
				</div>
			</div>
		</div>
	</div>

	<!-- Add to Workout Modal for PR notifications -->
	<div class="pr-notification" id="pr-notification" style="display: none;">
		<div class="pr-content">
			<span class="pr-icon">üèÜ</span>
			<span class="pr-text">Personal Record!</span>
		</div>
	</div>

	<!-- Add Settings Modal -->
	<div class="modal" id="settings-modal">
		<div class="modal-content">
			<div class="modal-header">
				<h3>C√†i ƒë·∫∑t</h3>
				<button class="modal-close" onclick="app.closeSettings()">‚úï</button>
			</div>
			<div class="modal-body">
				<div class="settings-section">
					<h4>Notifications</h4>
					<label class="toggle-setting">
						<input type="checkbox" id="enable-notifications" onchange="app.toggleNotifications()">
						<span>Th√¥ng b√°o rest timer</span>
					</label>
				</div>
				
				<div class="settings-section">
					<h4>Units</h4>
					<label class="radio-setting">
						<input type="radio" name="weight-unit" value="kg" checked onchange="app.setWeightUnit('kg')">
						<span>Kilograms (kg)</span>
					</label>
					<label class="radio-setting">
						<input type="radio" name="weight-unit" value="lb" onchange="app.setWeightUnit('lb')">
						<span>Pounds (lb)</span>
					</label>
				</div>
				
				<div class="settings-section">
					<h4>Theme</h4>
					<label class="radio-setting">
						<input type="radio" name="theme" value="auto" checked onchange="app.setTheme('auto')">
						<span>Auto (System)</span>
					</label>
					<label class="radio-setting">
						<input type="radio" name="theme" value="light" onchange="app.setTheme('light')">
						<span>Light</span>
					</label>
					<label class="radio-setting">
						<input type="radio" name="theme" value="dark" onchange="app.setTheme('dark')">
						<span>Dark</span>
					</label>
				</div>
			</div>
		</div>
	</div>
</body>
</html>